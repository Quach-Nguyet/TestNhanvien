@model  IEnumerable<QuanLyNhanVien.Models.NhanVien>
@{
    ViewBag.Title = "Index";
    Layout = "~/Views/Shared/_Layout.cshtml";
}

<!-- Kết thúc -->
<style>
    span {
        color: gray;
    }

    .header {
        margin-top: 30px !important;
        font-size: 18px !important;
    }

    .btn {
        font-size: 18px !important;
    }

    table {
        margin-top: 40px !important;
        font-size: 20px !important;
    }

    tr {
        height: 50px !important;
    }

    #tr_header, #td_nam {
        text-align: center !important;
    }

    .dropdown-select {
        position: relative;
        overflow: hidden;
        height: 25%;
        width: 150px;
        margin-top: 20px;
        background: whitesmoke;
        border: 3px solid #49aff2;
        border-color: white #f7f7f7 whitesmoke;
        border-radius: 3px;
        background-image: -webkit-linear-gradient(top, transparent, rgba(0, 0, 0, 0.06));
        -webkit-box-shadow: 0 1px 1px rgba(0, 0, 0, 0.08);
        box-shadow: 0 1px 1px rgba(0, 0, 0, 0.08);
    }

</style>

<form>
    <div class="header d-flex">
        <a class="btn btn-primary btnCreate" style="width: 10%" data-toggle="modal" onclick="$('#ThemNhanVien').modal('show')">Thêm mới</a>
        <div style="margin-left:2%; width: 88%">
            <input type="text" id="Sreach" name="keyword" class="form-control" placeholder="Nhập từ khóa cần tìm" />
        </div>
    </div>
    <div class="phong_ban">
        @{Html.RenderAction("DropDow", "Nv");}
    </div>
    <div id="nhanvien_table" class="mt-3">
        @{Html.RenderAction("Table", "Nv", new { page = 1, page_size = 5, idRoom = 0 });}
    </div>
    <div class="mt-3">
        @*<Modal search>*@
        <div class="modal fade" id="Messeger" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true">
            <div class="modal-dialog" role="document">
                <div class="modal-content">
                    <div class="modal-header">
                        <h5 class="modal-title" id="exampleModalLabel">Lỗi</h5>
                        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                            <span aria-hidden="true">&times;</span>
                        </button>
                    </div>
                    <div class="modal-footer">
                        <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
                        <button type="button" class="btn btn-primary">Save changes</button>
                    </div>
                </div>
            </div>
        </div>
    </div>
</form>

@*<Modal them>*@
<div class="modal fade" id="ThemNhanVien" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true">
    <div class="modal-dialog" role="document">
        <div class="modal-content">
            <div class="modal-header">
                <h3 class="modal-title" id="exampleModalLabel">
                    Thêm thông tin nhân viên
                </h3>
            </div>
            <div class="modal-body">
                <form class="card-body" novalidate id="form-them" method="post">
                    <input type="hidden" id="MaNhanVien" name="MaNhanVien" />
                    <div class="mb-3">
                        <label for="HoVaTen" class="form-label">Họ và tên nhân viên:</label>
                        <input type="text" class="form-control" id="HoVaTen" name="HoVaTen" />
                    </div>
                    <div class="mb-3">
                        <label for="NgaySinh" class="form-label">Ngày sinh:</label>
                        <input type="text" class="js-date form-control datepicker" id="NgaySinh" name="NgaySinh" placeholder="dd/mm/yyyy" required />
                        <div class="invalid-feedback">
                            Please choose a Date.
                        </div>
                    </div>
                    <div class="mb-3">
                        <label for="SoDienThoai" class="form-label">Số điện thoại:</label>
                        <input type="text" class="form-control" id="SoDienThoai" name="SoDienThoai" />
                    </div>
                    <div class="mb-3">
                        <label for="DiaChi" class="form-label">Địa chỉ:</label>
                        <input type="text" class="form-control" id="DiaChi" name="DiaChi" />
                    </div>
                    <div class="mb-3">
                        <label for="ChucVu" class="form-label">Chức vụ: </label>
                        <input type="text" class="form-control" id="ChucVu" name="ChucVu" />
                    </div>
                    <div class="mb-3">
                        <label for="SoNamCongTac" class="form-label">Số năm công tác: </label>
                        <input type="number" class="form-control" id="SoNamCongTac" name="SoNamCongTac" />
                    </div>
                    <div class="mb-3">
                        <div class="dropdown-select">
                        <select class="form-control filter-phong-ban">
                            <option >
                                Chọn Phòng ban
                            </option>
                            @foreach (var item in ViewBag.DepartmentNames)
                            {
                                <option type="button">@item </option>
                            }
                        </select>
                        </div>
                    </div>
                    <div class="d-flex">
                        <button class="btn btn-success" id="Them"> Lưu </button>
                        <button class="btn btn-outline-secondary" style="margin-left: 1rem;" data-dismiss="modal" onclick="$('#ThemNhanVien').modal('hide')">Hủy</button>
                    </div>
                </form>
            </div>
        </div>
    </div>
</div>


@*<Modal sua>*@
<div class="modal fade" id="SuaNhanVien" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true">
    <div class="modal-dialog" role="document">
        <div class="modal-content">
            <div class="modal-header">
                <h3 class="modal-title" id="exampleModalLabel">
                    Sửa thông tin nhân viên
                </h3>
            </div>
            <div class="modal-body">
                <form class="card-body needs-validation" id="form-sua" novalidate method="post">
                    <input type="hidden" id="Sua_MaNhanVien" name="MaNhanVien" />
                    <div class="mb-3">
                        <label for="HoVaTen" class="form-label">Họ và tên nhân viên:</label>
                        <input type="text" class="form-control" id="Sua_HoVaTen" name="HoVaTen" required />
                        <div class="valid-feedback">
                            Looks good!
                        </div>
                    </div>
                    <div class="mb-3">
                        <label for="NgaySinh" class="form-label">Ngày sinh:</label>
                        <input type="text" class="js-date form-control datepicker" id="Sua_NgaySinh" name="NgaySinh" placeholder="dd/mm/yyyy" required />
                    </div>
                    <div class="mb-3">
                        <label for="SoDienThoai" class="form-label">Số điện thoại:</label>
                        <input type="text" class="form-control" id="Sua_SoDienThoai" name="SoDienThoai" />
                    </div>
                    <div class="mb-3">
                        <label for="DiaChi" class="form-label">Địa chỉ:</label>
                        <input type="text" class="form-control" id="Sua_DiaChi" name="DiaChi" />
                        <div class="invalid-feedback">
                            Please choose a adress.
                        </div>
                    </div>
                    <div class="mb-3">
                        <label for="ChucVu" class="form-label">Chức vụ: </label>
                        <input type="text" class="form-control" id="Sua_ChucVu" name="ChucVu" />
                        <div class="invalid-feedback">
                            Please choose a potsion.
                        </div>
                    </div>
                    <div class="mb-3">
                        <label for="SoNamCongTac" class="form-label">Số năm công tác: </label>
                        <input type="number" class="form-control" id="Sua_SoNamCongTac" name="SoNamCongTac" />
                    </div>
                    @*<div class="mb-3">
                            <div class="dropdown">
                                <button class="btn btn-outline-primary dropdown-toggle" type="button" id="dropdownMenu2" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                                    Chọn Phòng ban
                                </button>
                                <div class="dropdown-menu phongBan" aria-labelledby="dropdownMenu2">
                                    @foreach (var item in ViewBag.NameRoom)
                                    {
                                        <button class="dropdown-item pb-item" onclick="@item" type="button">  @item </button>
                                    }

                                </div>
                            </div>
                        </div>*@
                    <div class="d-flex">
                        <button class="btn btn-success" id="Sua"> Sửa và lưu </button>
                        <button type="button" class="btn btn-secondary" data-dismiss="modal" style="margin-left: 1rem;" onclick="$('#SuaNhanVien').modal('hide')">Hủy</button>
                    </div>
                </form>
            </div>
        </div>
    </div>
</div>


@*<modal xoa>*@
<div class="modal fade" id="XoaNhanVien" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true">
    <div class="modal-dialog" role="document">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title" id="exampleModalLabel">Xóa Nhân Viên</h5>
            </div>
            <div class="modal-body">
                Bạn chắc chắn muốn xóa nhân viên này?
            </div>
            <div class="modal-footer">
                <button class="btn btn-danger">Đồng ý</button>
                <button type="button" class="btn btn-secondary" data-dismiss="modal" onclick="$('#XoaNhanVien').modal('hide')">Hủy</button>
            </div>
        </div>
    </div>
</div>



@section scripts {
    <script src="https://unpkg.com/inputmask@4.0.4/dist/inputmask/dependencyLibs/inputmask.dependencyLib.js"></script>
    <script src="https://unpkg.com/inputmask@4.0.4/dist/inputmask/inputmask.js"></script>
    <script src="https://unpkg.com/inputmask@4.0.4/dist/inputmask/inputmask.date.extensions.js"></script>
    <script src="~/Scripts/js/index.js"></script>

    @*định dạng form*@
    <script>
        (function () {
            'use strict';
            window.addEventListener('load', function () {
                var forms = document.getElementsByClassName('needs-validation');
                var validation = Array.prototype.filter.call(forms, function (form) {
                    form.addEventListener('submit', function (event) {
                        if (form.checkValidity() === false) {
                            event.preventDefault();
                            event.stopPropagation();
                        }
                        form.classList.add('was-validated');
                    }, false);
                });
            }, false);
        })();
    </script>
}
