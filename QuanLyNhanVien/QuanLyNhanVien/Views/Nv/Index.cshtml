@model   IEnumerable<QuanLyNhanVien.Models.NhanVien>
@{
    ViewBag.Title = "Index";
    Layout = "~/Views/Shared/_Layout.cshtml";
}

<!-- Kết thúc -->
<style>
    span {
        color: gray;
    }

    .header {
        margin-top: 30px !important;
        font-size: 18px !important;
    }

    .btn {
        font-size: 18px !important;
    }

    table {
        margin-top: 40px !important;
        font-size: 20px !important;
    }

    tr {
        height: 50px !important;
    }

    #tr_header, #td_nam {
        text-align: center !important;
    }
    .dropdown {
        --max-scroll: 8;
        --text: #000000;
        --border: #23C4F8;
        --borderActive: #2373f8;
        --background: #fff;
        --arrow: #6C7486;
        --arrowActive: #E4ECFA;
        --listText: #99A3BA;
        --listBackground: #F5F9FF;
        --listActive: #E4ECFA;
        --listTextActive: #6C7486;
        --listBorder: none;
        font-size: 20px !important;
        width: 15%;
        position: relative;
        margin-top:20px !important;
    }


        .dropdown select {
            display: none;
        }

        .dropdown > span {
            cursor: pointer;
            padding: 6px 10px;
            border-radius: 6px;
            display: block;
            position: relative;
            color: var(--text);
            border: 3px solid var(--border);
            background: var(--background);
            transition: all .3s ease;
        }

            .dropdown > span:before, .dropdown > span:after {
                content: '';
                display: block;
                position: absolute;
                width: 8px;
                height: 2px;
                border-radius: 1px;
                top: 50%;
                right: 15px;
                background: var(--arrow);
                transition: all .3s ease;
            }

            .dropdown > span:before {
                margin-right: 4px;
                transform: scale(0.96, 0.8) rotate(50deg);
            }

            .dropdown > span:after {
                transform: scale(0.96, 0.8) rotate(-50deg);
            }

        .dropdown ul {
            margin: 0;
            padding: 0;
            list-style: none;
            opacity: 0;
            visibility: hidden;
            position: absolute;
            max-height: calc(var(--max-scroll) * 42px);
            top: 42px;
            left: 0;
            z-index: 1;
            right: 0;
            background: var(--listBackground);
            border-radius: 6px;
            overflow-x: hidden;
            overflow-y: auto;
            transform-origin: 0 0;
            transition: opacity 0.2s ease, visibility 0.2s ease, transform 0.3s cubic-bezier(0.4, 0.6, 0.5, 1.32);
            transform: scale(0.8) translate(0, 4px);
            border: 1px solid var(--listBorder);
        }

            .dropdown ul li {
                opacity: 0;
                transform: translate(6px, 0);
                transition: all .3s ease;
            }

                .dropdown ul li a {
                    cursor: pointer;
                    display: block;
                    padding: 10px 16px;
                    color: var(--listText);
                    text-decoration: none;
                    outline: none;
                    position: relative;
                    transition: all .3s ease;
                }

                    .dropdown ul li a:hover {
                        color: var(--listTextActive);
                    }

                .dropdown ul li.active a {
                    color: var(--listTextActive);
                    background: var(--listActive);
                }

                    .dropdown ul li.active a:before, .dropdown ul li.active a:after {
                        --scale: .6;
                        content: '';
                        display: block;
                        width: 10px;
                        height: 2px;
                        position: absolute;
                        right: 17px;
                        top: 50%;
                        opacity: 0;
                        background: var(--listText);
                        transition: all .2s ease;
                    }

                    .dropdown ul li.active a:before {
                        transform: rotate(45deg) scale(var(--scale));
                    }

                    .dropdown ul li.active a:after {
                        transform: rotate(-45deg) scale(var(--scale));
                    }

                    .dropdown ul li.active a:hover:before, .dropdown ul li.active a:hover:after {
                        --scale: .9;
                        opacity: 1;
                    }

                .dropdown ul li:first-child a {
                    border-radius: 6px 6px 0 0;
                }

                .dropdown ul li:last-child a {
                    border-radius: 0 0 6px 6px;
                }

        .dropdown.filled > span {
            color: var(--textFilled);
        }

        .dropdown.open > span {
            border-color: var(--borderActive);
        }

            .dropdown.open > span:before, .dropdown.open > span:after {
                background: var(--arrowActive);
            }

            .dropdown.open > span:before {
                transform: scale(0.96, 0.8) rotate(-50deg);
            }

            .dropdown.open > span:after {
                transform: scale(0.96, 0.8) rotate(50deg);
            }

        .dropdown.open ul {
            opacity: 1;
            visibility: visible;
            transform: scale(1) translate(0, 12px);
            transition: opacity 0.3s ease, visibility 0.3s ease, transform 0.3s cubic-bezier(0.4, 0.6, 0.5, 1.32);
        }

            .dropdown.open ul li {
                opacity: 1;
                transform: translate(0, 0);
            }

                .dropdown.open ul li:nth-child(1) {
                    transition-delay: 80ms;
                }

                .dropdown.open ul li:nth-child(2) {
                    transition-delay: 160ms;
                }

                .dropdown.open ul li:nth-child(3) {
                    transition-delay: 240ms;
                }

                .dropdown.open ul li:nth-child(4) {
                    transition-delay: 320ms;
                }

                .dropdown.open ul li:nth-child(5) {
                    transition-delay: 400ms;
                }

                .dropdown.open ul li:nth-child(6) {
                    transition-delay: 480ms;
                }

                .dropdown.open ul li:nth-child(7) {
                    transition-delay: 560ms;
                }

                .dropdown.open ul li:nth-child(8) {
                    transition-delay: 640ms;
                }

                .dropdown.open ul li:nth-child(9) {
                    transition-delay: 720ms;
                }

                .dropdown.open ul li:nth-child(10) {
                    transition-delay: 800ms;
                }

    select {
        --text: #3F4656;
        --border: #2F3545;
        --background: #151924;
    }

        select.dropdown {
            padding: 6px 9px;
            border-radius: 6px;
            color: var(--text);
            border: 1px solid var(--border);
            background: var(--background);
            line-height: 16px;
            font-size: 14px !important;
            font-family: inherit;
            -webkit-appearance: none;
        }

    
    .switch {
        height: 20px;
        display: block;
        position: relative;
        cursor: pointer;
    }

        .switch input {
            display: none;
        }

            .switch input + span {
                padding-left: 38px;
                min-height: 20px;
                line-height: 20px;
                display: block;
                color: #3F4656;
                position: relative;
                white-space: nowrap;
            }

                .switch input + span:not(:empty) {
                    padding-left: 46px;
                }

                .switch input + span:before, .switch input + span:after {
                    content: '';
                    display: block;
                    position: absolute;
                    border-radius: 10px;
                }

                .switch input + span:before {
                    top: 0;
                    left: 0;
                    width: 38px;
                    height: 20px;
                    border: 1px solid #2F3545;
                    transition: all .3s ease;
                }

                .switch input + span:after {
                    width: 14px;
                    height: 14px;
                    background: #2F3545;
                    top: 3px;
                    left: 3px;
                    transition: all .45s ease;
                }

                .switch input + span + svg {
                    display: none;
                }

            .switch input:checked + span:before {
                background: #5628EE;
                border-color: #5628EE;
            }

            .switch input:checked + span:after {
                background: #fff;
                transform: translate(18px, 0);
            }

        .switch:hover input:not(:checked) + span:before {
            border-color: #23C4F8;
        }

    body .dropdown {
        margin-top: 60px;
    }
</style>
<div class="header d-flex">
    <a class="btn btn-primary btnCreate" style="width: 10%" data-toggle="modal" onclick="$('#ThemNhanVien').modal('show')">Thêm mới</a>
    <div style="margin-left:2%; width: 88%">
        <input type="text" id="Sreach" name="keyword" class="form-control" placeholder="Nhập từ khóa cần tìm" />
    </div>
</div>
    @{Html.RenderAction("DropDow", "Nv");}
<div id="nhanvien_table" class="mt-3">
    @{Html.RenderAction("Table", "Nv", new { page = 1, page_size = 5, idRoom = 0 });}
</div>
<div class="mt-3">

    @*<modal xoa>*@
    <div class="modal fade" id="XoaNhanVien" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true">
        <div class="modal-dialog" role="document">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title" id="exampleModalLabel">Xóa Nhân Viên</h5>
                </div>
                <div class="modal-body">
                    Bạn chắc chắn muốn xóa nhân viên này?
                </div>
                <div class="modal-footer">
                    <button class="btn btn-danger">Đồng ý</button>
                    <button type="button" class="btn btn-secondary" data-dismiss="modal" onclick="$('#XoaNhanVien').modal('hide')">Hủy</button>
                </div>
            </div>
        </div>
    </div>

    @*<Modal search>*@
    <div class="modal fade" id="Messeger" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true">
        <div class="modal-dialog" role="document">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title" id="exampleModalLabel">Lỗi</h5>
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                        <span aria-hidden="true">&times;</span>
                    </button>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
                    <button type="button" class="btn btn-primary">Save changes</button>
                </div>
            </div>
        </div>
    </div>
</div>

@*<Modal them>*@
<div class="modal fade" id="ThemNhanVien" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true">
    <div class="modal-dialog" role="document">
        <div class="modal-content">
            <div class="modal-header">
                <h3 class="modal-title" id="exampleModalLabel">
                    Thêm thông tin nhân viên
                </h3>
            </div>
            <div class="modal-body">
                <form class="card-body" novalidate id="form-them" method="post">
                    <input type="hidden" id="MaNhanVien" name="MaNhanVien" />
                    <div class="mb-3">
                        <label for="HoVaTen" class="form-label">Họ và tên nhân viên:</label>
                        <input type="text" class="form-control" id="HoVaTen" name="HoVaTen" />
                    </div>
                    <div class="mb-3">
                        <label for="NgaySinh" class="form-label">Ngày sinh:</label>
                        <input type="text" class="js-date form-control datepicker" id="NgaySinh" name="NgaySinh" placeholder="dd/mm/yyyy" required />
                        <div class="invalid-feedback">
                            Please choose a Date.
                        </div>
                    </div>
                    <div class="mb-3">
                        <label for="SoDienThoai" class="form-label">Số điện thoại:</label>
                        <input type="text" class="form-control" id="SoDienThoai" name="SoDienThoai" />
                    </div>
                    <div class="mb-3">
                        <label for="DiaChi" class="form-label">Địa chỉ:</label>
                        <input type="text" class="form-control" id="DiaChi" name="DiaChi" />
                    </div>
                    <div class="mb-3">
                        <label for="ChucVu" class="form-label">Chức vụ: </label>
                        <input type="text" class="form-control" id="ChucVu" name="ChucVu" />
                    </div>
                    <div class="mb-3">
                        <label for="SoNamCongTac" class="form-label">Số năm công tác: </label>
                        <input type="number" class="form-control" id="SoNamCongTac" name="SoNamCongTac" />
                    </div>
                    @*<div class="mb-3">
                        <div class="dropdown">
                            <button class="btn btn-outline-primary dropdown-toggle" type="button" id="dropdownMenu2" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                               Chọn Phòng ban
                            </button>
                            <div class="dropdown-menu" aria-labelledby="dropdownMenu2">
                                @foreach (var item in ViewBag.NameRoom)
                                {
                                    <button class="dropdown-item pb-item" onclick="@item" type="button" >  @item </button>
                                }

                            </div>
                        </div>
                    </div>*@
                    <div class="d-flex">
                        <button class="btn btn-success" id="Them"> Lưu </button>
                        <button class="btn btn-outline-secondary" style="margin-left: 1rem;" data-dismiss="modal" onclick="$('#ThemNhanVien').modal('hide')">Hủy</button>
                    </div>
                </form>
            </div>
        </div>
    </div>
</div>


@*<Modal sua>*@
<div class="modal fade" id="SuaNhanVien" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true">
    <div class="modal-dialog" role="document">
        <div class="modal-content">
            <div class="modal-header">
                <h3 class="modal-title" id="exampleModalLabel">
                    Sửa thông tin nhân viên
                </h3>
            </div>
            <div class="modal-body">
                <form class="card-body needs-validation" id="form-sua" novalidate method="post">
                    <input type="hidden" id="Sua_MaNhanVien" name="MaNhanVien" />
                    <div class="mb-3">
                        <label for="HoVaTen" class="form-label">Họ và tên nhân viên:</label>
                        <input type="text" class="form-control" id="Sua_HoVaTen" name="HoVaTen" required />
                        <div class="valid-feedback">
                            Looks good!
                        </div>
                    </div>
                    <div class="mb-3">
                        <label for="NgaySinh" class="form-label">Ngày sinh:</label>
                        <input type="text" class="js-date form-control datepicker" id="Sua_NgaySinh" name="NgaySinh" placeholder="dd/mm/yyyy" required />
                    </div>
                    <div class="mb-3">
                        <label for="SoDienThoai" class="form-label">Số điện thoại:</label>
                        <input type="text" class="form-control" id="Sua_SoDienThoai" name="SoDienThoai" />
                    </div>
                    <div class="mb-3">
                        <label for="DiaChi" class="form-label">Địa chỉ:</label>
                        <input type="text" class="form-control" id="Sua_DiaChi" name="DiaChi" />
                        <div class="invalid-feedback">
                            Please choose a adress.
                        </div>
                    </div>
                    <div class="mb-3">
                        <label for="ChucVu" class="form-label">Chức vụ: </label>
                        <input type="text" class="form-control" id="Sua_ChucVu" name="ChucVu" />
                        <div class="invalid-feedback">
                            Please choose a potsion.
                        </div>
                    </div>
                    <div class="mb-3">
                        <label for="SoNamCongTac" class="form-label">Số năm công tác: </label>
                        <input type="number" class="form-control" id="Sua_SoNamCongTac" name="SoNamCongTac" />
                    </div>
                    @*<div class="mb-3">
                        <div class="dropdown">
                            <button class="btn btn-outline-primary dropdown-toggle" type="button" id="dropdownMenu2" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                                Chọn Phòng ban
                            </button>
                            <div class="dropdown-menu phongBan" aria-labelledby="dropdownMenu2">
                                @foreach (var item in ViewBag.NameRoom)
                                {
                                    <button class="dropdown-item pb-item" onclick="@item" type="button">  @item </button>
                                }

                            </div>
                        </div>
                    </div>*@
                    <div class="d-flex">
                        <button class="btn btn-success" id="Sua"> Sửa và lưu </button>
                        <button type="button" class="btn btn-secondary" data-dismiss="modal" style="margin-left: 1rem;" onclick="$('#SuaNhanVien').modal('hide')">Hủy</button>
                    </div>
                </form>
            </div>
        </div>
    </div>
</div>




@section scripts {
    <script src="https://unpkg.com/inputmask@4.0.4/dist/inputmask/dependencyLibs/inputmask.dependencyLib.js"></script>
    <script src="https://unpkg.com/inputmask@4.0.4/dist/inputmask/inputmask.js"></script>
    <script src="https://unpkg.com/inputmask@4.0.4/dist/inputmask/inputmask.date.extensions.js"></script>
    <script src="~/Scripts/js/index.js"></script>

    @*định dạng form*@
    <script>
        (function () {
            'use strict';
            window.addEventListener('load', function () {
                var forms = document.getElementsByClassName('needs-validation');
                var validation = Array.prototype.filter.call(forms, function (form) {
                    form.addEventListener('submit', function (event) {
                        if (form.checkValidity() === false) {
                            event.preventDefault();
                            event.stopPropagation();
                        }
                        form.classList.add('was-validated');
                    }, false);
                });
            }, false);
        })();
    </script>
}
